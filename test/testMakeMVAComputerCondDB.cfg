#!/bin/env cmsRun

process MakeCondDB = {
	source = EmptySource {
		untracked uint32 firstRun = 1
		untracked uint32 numberEventsInRun = 1
	}

	untracked PSet maxEvents = {
		untracked int32 input = 1
	}

	include "FWCore/MessageLogger/data/MessageLogger.cfi"
	replace MessageLogger.cout.threshold = "INFO"

	service = PoolDBOutputService {
		string connect = "sqlite_file:MVATestJetTags.db"
		string timetype = "runnumber"
		untracked uint32 authenticationMethod = 1
		untracked string catalog = "file:mycatalog.xml"

		VPSet toPut = {
			{
				string record = "BTauGenericMVAJetTagComputerRcd"
				string tag = "test_tag"
			}
		}

		PSet DBParameters = {
			untracked string authenticationPath = "."
			untracked int32 messageLevel = 0
			untracked bool loadBlobStreamer = true
		}
	}

	module MakeCondDB = testMakeMVAComputerCondDB {
		untracked string record = "BTauGenericMVAJetTagComputerRcd"
	}

	path p = { MakeCondDB }
}
